{{- if eq .Values.userPreferences.language "fr" -}}
{{ (.Values.message).fr }}

{{ if .Values.ingress.enabled -}}
- Vous pouvez vous connecter à ce Visual Studio Code avec votre navigateur en utilisant ce [lien](http{{ if $.Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.hostname }})
{{- end }}
{{- if .Values.route.enabled }}
- Vous pouvez vous connecter à ce Visual Studio Code avec votre navigateur en utilisant ce [lien](https://{{ .Values.route.hostname }})
{{- end }}
- Votre password: {{ .Values.security.password }}

{{- if and .Values.networking.user .Values.networking.user.enabled (or .Values.networking.user.ports .Values.networking.user.port) }}
{{ $userPorts := .Values.networking.user.ports | default (list .Values.networking.user.port) -}}
{{- if eq (len $userPorts) 1 -}}
  {{- if .Values.ingress.enabled }}
Vous pouvez vous connecter à votre port personnalisé ({{ first $userPorts }}) en utilisant [ce lien](http{{ if .Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.userHostname }}).
  {{- end -}}
  {{- if .Values.route.enabled }}
Vous pouvez vous connecter à votre port personnalisé ({{ first $userPorts }}) en utilisant [ce lien](https://{{ .Values.route.userHostname }}).
  {{- end -}}
{{- else }}
Vous pouvez vous connecter à vos services personnalisés en utilisant les liens ci-dessous :
  {{- range $userPort := $userPorts -}}
    {{- if $.Values.ingress.enabled -}}
    {{- $hostname := (regexReplaceAll "([^\\.]+)\\.(.*)" $.Values.ingress.userHostname (printf "${1}-%d.${2}" (int $userPort))) }}
- [Port {{ $userPort }}](http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $hostname }})
    {{- end -}}
    {{- if $.Values.route.enabled -}}
    {{- $hostname := (regexReplaceAll "([^\\.]+)\\.(.*)" $.Values.route.userHostname (printf "${1}-%d.${2}" (int $userPort))) }}
- [Port {{ $userPort }}](https://{{ $hostname }})
    {{- end -}}
  {{- end -}}
{{- end }}
Si vous accédez ces URL sans démarrer vos services personnalisés, vous obtiendrez une erreur 502 Bad Gateway.
{{- end }}

*REMARQUES concernant la suppression :*

{{- if and .Values.persistence.enabled (not .Values.persistence.existingClaim) }}
- Le volume associé au chemin suivant **/home/{{ .Values.environment.user }}/work** sera supprimé
- Par conséquent, vous devriez sauvegarder votre code dans un dépôt Git externe
- Vous devriez également sauvegarder vos données dans un référentiel de données externe tel que S3
- Vous pouvez facilement créer un nouveau service {{ .Chart.Name }}, cloner votre code et réinstaller les bibliothèques dont vous avez besoin
{{- end }}
{{- else }}
{{ (.Values.message).en }}
{{- if .Values.ingress.enabled }}
- You can connect to this vscode with your browser on this [link](http{{ if $.Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.hostname }})
{{- end }}
{{- if .Values.route.enabled }}
- You can connect to this vscode with your browser on this [link](https://{{ .Values.route.hostname }})
{{- end }}
- Your password: {{ .Values.security.password }}

{{- if and .Values.networking.user .Values.networking.user.enabled (or .Values.networking.user.ports .Values.networking.user.port) }}
{{ $userPorts := .Values.networking.user.ports | default (list .Values.networking.user.port) -}}
{{- if eq (len $userPorts) 1 -}}
  {{- if .Values.ingress.enabled }}
You can connect to your custom port ({{ first $userPorts }}) using [this link](http{{ if .Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.userHostname }}).
  {{- end -}}
  {{- if .Values.route.enabled }}
You can connect to your custom port ({{ first $userPorts }}) using [this link](https://{{ .Values.route.userHostname }}).
  {{- end -}}
{{- else }}
You can connect to your custom services using the following links:
  {{- range $userPort := $userPorts -}}
    {{- if $.Values.ingress.enabled -}}
    {{- $hostname := (regexReplaceAll "([^\\.]+)\\.(.*)" $.Values.ingress.userHostname (printf "${1}-%d.${2}" (int $userPort))) }}
- [Port {{ $userPort }}](http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $hostname }})
    {{- end -}}
    {{- if $.Values.route.enabled -}}
    {{- $hostname := (regexReplaceAll "([^\\.]+)\\.(.*)" $.Values.route.userHostname (printf "${1}-%d.${2}" (int $userPort))) }}
- [Port {{ $userPort }}](https://{{ $hostname }})
    {{- end -}}
  {{- end -}}
{{- end }}
If you access these URL without starting the corresponding services you will get a 502 bad gateway error.
{{- end }}

*NOTES about deletion :*
{{- if and .Values.persistence.enabled (not .Values.persistence.existingClaim) }}
- The volume associated with the following path **/home/{{ .Values.environment.user }}/work** will be deleted
- So, you should save your code to an external git repository
- So, You should save your data to an external data repository like S3
- You can easily create a new {{ .Chart.Name }} service, clone your code and install again some librairies you need
{{- end -}}

{{- end -}}
